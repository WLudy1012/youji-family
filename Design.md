# 家族网站设计

## 概述
- **动效风格**：魔法现实主义 & 空灵影院感
- **动画强度**：超动态
- **技术栈**：React, GSAP (ScrollTrigger, Flip), Three.js (用于英雄区着色器), Lenis (平滑滚动)

## 品牌基础
- **颜色**： 
  - 主色：#8265c7（紫罗兰蓝）
  - 辅色：#826300（暗金色）
  - 深主色：#634e96（深紫罗兰蓝）
  - 深色：#1d1a2d（深紫黑色）
  - 背景色：#f1ecf9（淡紫白色）
  - 背景色 2：#e6dfec（浅灰紫色）
  - 白色：#ffffff
  - 黑色：#000000
  - 灰色 1：#333333
  - 灰色 2：#8b8b8b
  - 灰色 3：#e9e9e9
  - 灰色 4：#f5f5f5
  - 透明：transparent
- **字体**： 
  - 展示字体："Cormorant Garamond", serif（建议中文搭配：思源宋体）
  - 正文字体："Proza Libre", sans-serif（建议中文搭配：思源黑体）
  - 备选字体："Roboto", "Roboto Slab"
- **核心理念**：家族、魔法与世代传承的故事。

## 全局动效系统

### 动画时序
- **缓动函数库**： 
  - `cubic-bezier(0.16, 1, 0.3, 1)`（Expo Out - 入场动画）
  - `cubic-bezier(0.7, 0, 0.3, 1)`（戏剧性慢动作）
- **时长比例**： 
  - 微交互：0.4s
  - 布局变换：0.8s - 1.2s
- **交错模式**：文字每字符 0.05s，网格每元素 0.15s。

### 持续效果
- **活态纹理**：所有背景上覆盖微妙的颗粒/噪点纹理（透明度 0.03），模拟胶片质感。
- **氛围深度**：元素根据鼠标移动在3D空间中轻柔浮动（视差因子 0.02）。

### 滚动引擎
- **平滑滚动**：阻尼滚动物理效果（lerp: 0.1）。
- **视差**：多平面深度系统（前景移动速度 1.2x，背景 0.8x）。

## 区域 1：导航栏

### 布局
悬浮"玻璃"胶囊。不是全宽条形，而是距顶部 20px 的紧凑悬浮胶囊，根据滚动方向展开/收缩。

#### 空间构成
- **状态 A（顶部）**：透明，与英雄区融为一体。
- **状态 B（滚动后）**：毛玻璃模糊胶囊（backdrop-filter: blur(10px)），宽度收缩以适应内容。

### 内容
- **Logo**："家族姓氏"（图片）
- **链接**：家族、族谱、联系我们
- **行动按钮**："发送消息"

### 动效编排

#### 入场序列
| 元素 | 动画 | 数值 | 时长 | 延迟 | 缓动 |
|---------|-----------|--------|----------|-------|--------|
| 导航容器 | 下滑入场 | Y: -100% → 0% | 1.0s | 0.2s | Expo Out |
| 链接 | 交错淡入 | 透明度: 0 → 1 | 0.8s | 0.8s | Linear |

#### 交互效果
- **链接悬停**：文字短暂乱码（如"家族"→"家#族"→"家族"）后变暗金色（#826300）且字间距增大。
- **磁性按钮**："发送消息"按钮在50px范围内吸引光标。

## 区域 2：英雄区

### 布局
**"神秘入口"**。全屏沉浸式体验。文字不仅是叠加层；它是通往另一个维度的窗口。背景图片被"暗角"着色器遮罩，边缘更深，中心聚焦。

#### 空间构成
- **第1层（背景）**：全出血图片，带缓慢缩放效果。
- **第2层（着色器）**：GLSL 粒子叠加层，响应光标，模拟飘落的灰烬/魔法尘埃。
- **第3层（文字）**：居中，超大比例，打破网格布局。

### 图片
**英雄区背景图**
- **分辨率：** 全视口
- **宽高比：** 16:9
- **透明背景：** 否
- **视觉风格：** 电影级家庭摄影，魔幻现实主义
- **主题：** 三代人站在薰衣草田前
- **色彩方案：** 柔和的黄色、紫色、绿色、米色
- **生成提示：** "一张温馨、电影质感的家庭肖像，三代人站在黄金时刻的薰衣草田前。构图居中对称，长者和幼童在中间，成年人在两侧。人物穿着柔和的米色和柔和色调，与温暖的场景融为一体。光线柔和自然，营造出温柔、亲密的氛围。背景是模糊的薰衣草田，增强了梦幻、怀旧的感觉。整体色彩方案柔和淡雅，以黄色、紫色和绿色为主。氛围宁静、沉思，捕捉了家庭纽带和夏日宁静的本质。"

### 动效编排

#### 入场序列
| 元素 | 动画 | 数值 | 时长 | 延迟 | 缓动 |
|---------|-----------|--------|----------|-------|--------|
| 主标题 | 分割揭示 | Clip-path: 0% → 100% | 1.5s | 0.5s | Expo Out |
| 副标题 | 上浮淡入 | Y: 20px → 0 | 1.0s | 1.2s | Ease Out |
| 背景 | 缩小 | Scale: 1.2 → 1.0 | 2.5s | 0s | Sine Out |

#### 滚动效果
| 触发 | 元素 | 效果 | 开始 | 结束 | 数值 |
|---------|---------|--------|-------|-----|--------|
| 滚动 | 主标题 | 视差淡出 | 顶部 | 50% | Y: 0 → -200px, 透明度: 1 → 0 |
| 滚动 | 背景 | 视差 | 顶部 | 底部 | Y: 0 → 150px |

#### 持续动画
- **氛围**：微妙的"萤火虫"粒子在图片暗部区域漂浮。

### 高级效果
#### 着色器效果
- **魔法尘埃**：自定义 WebGL 着色器，在薰衣草田上生成飘落的金色粒子（金色/黄色）。粒子对鼠标光标做出涟漪反应。

## 区域 3：家族简介（关于我们）

### 布局
**"漂浮三联画"**。不是静态网格，三张卡片以不对称星座排列漂浮。

#### 空间构成
- **卡片 1**：左上，旋转 -2deg。
- **卡片 2**：中央靠前，旋转 0deg，Z-index 最高。
- **卡片 3**：右下，旋转 2deg。
- **连接线**：动画 SVG 路径微妙地连接三张卡片，象征"家族线"。

### 内容
- **主标题**："家族"
- **卡片 1**："传承" - 我们家族的历史根植于传统和坚韧...
- **卡片 2**："成长" - 每一代人都在前人的基础上不断进化...
- **卡片 3**："纽带" - 将我们联系在一起的是爱、支持和共同回忆的纽带...

### 图片
**卡片图片 1 - 传承**
- **分辨率：** 卡片宽度
- **透明背景：** 否
- **视觉风格：** 电影级，魔幻现实主义
- **主题：** 祖父母坐在木桌旁，手持旧照片
- **生成提示：** "温馨电影感祖父母肖像，坐在温馨小屋的木桌旁。老妇人穿着米白色毛衣，灰白头发，正在看一叠旧黑白照片。老男人坐在她旁边，穿着格子衬衫，外面是米色毛衣，正在喝马克杯里的饮品。两人都戴着眼镜。场景被左侧窗户透进的柔和自然光照亮，在背景中投射出温柔的阴影。背景包括木柜、墙上的裱框图片和桌上的一小盆植物。色彩方案温暖柔和，以棕色、米色和柔和色调为主。氛围亲密、怀旧，充满爱、回忆和安静沉思的感觉。"

**卡片图片 2 - 成长**
- **分辨率：** 卡片宽度
- **透明背景：** 否
- **视觉风格：** 电影级家庭摄影，魔幻现实主义
- **主题：** 年轻家庭在薰衣草田中
- **生成提示：** "一张魔幻写实的家庭照片，父母和两个孩子站在黄金时刻的薰衣草田中。父亲穿着棕褐色夹克和牛仔裤，母亲穿着米色毛衣和蓝色牛仔裤，两人都温柔地微笑着。孩子们穿着柔和的米色和棕褐色衣服。构图居中对称，父母和孩子们紧挨在一起。背景是模糊的薰衣草田和柔和的天空，营造出梦幻、空灵的氛围。光线柔和自然，投下温暖、温柔的光芒。色彩方案柔和淡雅，以米色、棕褐色、柔和的紫色和绿色为主。整体氛围宁静、亲密，充满平静的家庭幸福感。"

**卡片图片 3 - 纽带**
- **分辨率：** 卡片宽度
- **透明背景：** 否
- **视觉风格：** 电影级家庭摄影，魔幻现实主义
- **主题：** 户外野餐的家庭
- **生成提示：** "一个温馨、自然的户外家庭聚会场景，设置在黄金时刻的乡村田野。前景中，一位老妇人坐在折叠椅上，旁边是一个穿蓝色格子衬衫的小女孩，两人一起看着一本打开的书。旁边，一位老男人坐在红色折叠椅上，微笑着。背景中，一对年轻夫妇站在一辆白色复古大众面包车旁，温柔地看着他们的孩子爬进车里。光线柔和自然，投下温柔、温暖的光芒，营造出宁静、怀旧的氛围。色彩方案柔和淡雅，以米色、棕褐色、柔和的黄色和绿色为主。整体氛围充满平静的家庭幸福感、爱和世代纽带。"

### 动效编排

#### 滚动效果
| 触发 | 元素 | 效果 | 开始 | 结束 | 数值 |
|---------|---------|--------|-------|-----|--------|
| 滚动 | 卡片 | 视差展开 | 进入 | 退出 | Y: 100px → -100px（交错） |
| 滚动 | 标题 | 固定与淡出 | 中央 | 顶部 | 透明度: 1 → 0.2 |

#### 交互效果
- **3D 倾斜**：悬停时，卡片向光标方向倾斜（最大旋转 10deg）。
- **光泽**：悬停时一道微妙的"光泽"渐变扫过卡片表面。

## 区域 4：族谱

### 布局
**"星座网络"**。用交互式节点网络取代传统的树状结构。

#### 空间构成
- **中心**："家族的始祖"。
- **分支**：线条向外延伸连接各代人。
- **背景**：深色渐变（深紫黑色）配缓慢旋转的星图。

### 内容
- **标题**："族谱"
- **节点**：家族成员（图片 + 姓名 + 关系）。

### 图片
**家族成员图片**
- **分辨率：** 小正方形
- **透明背景：** 否（圆形遮罩）
- **视觉风格：** 魔幻肖像
- **主题：** 个人肖像

### 动效编排

#### 入场序列
| 元素 | 动画 | 数值 | 时长 | 延迟 | 缓动 |
|---------|-----------|--------|----------|-------|--------|
| 连接线 | 绘制 SVG | Stroke-dashoffset: 100% → 0% | 2.0s | 0s | Ease In Out |
| 节点 | 弹出 | Scale: 0 → 1 | 0.6s | 交错 | Back Out |

#### 交互效果
- **节点悬停**： 
  - 连接线发光（金色）。
  - 悬停节点的图片放大（1.2x）。
  - 相关家族成员高亮；其他变暗。

## 区域 5：联系我们（聊天区）

### 布局
**"魔法日记"**。

#### 空间构成
- **背景**：纹理纸张背景（CSS 图案）。
- **消息**：看起来像手写的笔记漂浮在空间中。

### 图片
**背景图片**
- **文件**：Rectangle 34624116.jpg（模糊背景）
- **风格**：抽象散景

**用户头像图片**
- **格式**：圆形
- **风格**：魔幻/奇幻头像

### 动效编排
- **新消息**：以"折叠展开"3D 动画出现（RotateX: -90deg → 0deg）。
- **发送**：按下按钮时，一只纸飞机动画或猫头鹰剪影飞向屏幕。

## 区域 6：页脚

### 布局
**"谢幕"**。

#### 空间构成
- **遮罩**：页脚固定在底部（z-index: -1）。前面的内容像幕布一样向*上*滚动，露出页脚。

### 内容
- **Logo**："家族姓氏"
- **行动按钮**："联系我们"、"发送消息"
- **链接**：完整站点地图

### 动效编排
- **揭示**：当"幕布"（主内容）升起时，页脚内容略微缩小（Scale: 1.1 → 1.0），创造"落座"效果。

## 技术实现说明

### 必需库
- **GSAP**：核心动画引擎（ScrollTrigger、Flip 插件）。
- **Lenis**：实现丝滑平滑滚动（视差效果必需）。
- **Three.js**：用于英雄区"魔法尘埃"着色器。

### 关键性能规则
- ✅ **使用 transform3d()** 和 **opacity** 进行 90% 的动画。
- ✅ **Will-change**：仅在活动滚动状态时应用。
- ❌ **避免 Background-attachment: fixed**：改用带视差的 translate3d。
- ❌ **避免 Filter: blur() 动画**：使用预模糊层的透明度渐变。

### 浏览器支持
- **渐进增强**：着色器在低性能设备上回退到静态 CSS 渐变。
- **减少动效**：遵守 `prefers-reduced-motion` 媒体查询。

---

## 输出路径
`/mnt/okcomputer/output/design.md`
